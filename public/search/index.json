[{"content":"CPP 文件操作 1.顺序文件 以结构体数据操作为例，顺便练习一下Lambda表达式\n1 2 3 4 5 6 7 8 9 10 typedef struct Student{ string name; int age; double height; Student(string n,int a,double h):name(n),age(a),height(h){} friend ofstream \u0026amp;operator\u0026lt;\u0026lt;(ofstream \u0026amp;out,const Student \u0026amp;stu){ out\u0026lt;\u0026lt;stu.name\u0026lt;\u0026lt;\u0026#34;\\t\u0026#34;\u0026lt;\u0026lt;stu.age\u0026lt;\u0026lt;\u0026#34;\\t\u0026#34;\u0026lt;\u0026lt;stu.height\u0026lt;\u0026lt;\u0026#34;\\n\u0026#34;; return out; } }St; 文件流写入数据 1 2 3 4 5 6 7 8 9 10 string filepath=\u0026#34;/home/sora/DOCS/my1/test001.txt\u0026#34;; function\u0026lt;void()\u0026gt; writedata=[\u0026amp;filepath](){ St s1(\u0026#34;张三三\u0026#34;,19,1.77); St s2(\u0026#34;李四\u0026#34;,20,1.75); ofstream out1; out1.open(filepath);//打开文件到内存缓冲区（out1-\u0026gt;该文件内存缓冲） out1\u0026lt;\u0026lt;s1\u0026lt;\u0026lt;s2; out1.close(); }; writedata(); 文件流读取数据 以空格分开读 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 string filepath=\u0026#34;/home/sora/DOCS/my1/test001.txt\u0026#34;; function\u0026lt;void()\u0026gt; readdata=[\u0026amp;filepath](){ ifstream cin1; cin1.open(filepath); function\u0026lt;void()\u0026gt; cin1out=[\u0026amp;cin1](int columns=3){ string str; int cnt=0; while(cin1\u0026gt;\u0026gt;str){ if(cnt==columns){cout\u0026lt;\u0026lt;\u0026#39;\\n\u0026#39;;cnt=0;} cout\u0026lt;\u0026lt;str\u0026lt;\u0026lt;\u0026#39;\\t\u0026#39;; cnt++; } }; cin1out(); cin1.close(); }; readdata(); 以行分开读 1 2 3 4 5 6 7 8 9 10 11 12 string filepath=\u0026#34;/home/sora/DOCS/my1/test001.txt\u0026#34;; function\u0026lt;void()\u0026gt; readdataln=[\u0026amp;filepath](){ ifstream cin1; cin1.open(filepath); string str; while(!cin1.eof()){ getline(cin1,str); cout\u0026lt;\u0026lt;str\u0026lt;\u0026lt;\u0026#39;\\n\u0026#39;; } cin1.close(); }; readdataln(); 2.随机文件 当 St 结构体包含字符串（如string name）时，直接二进制读写会导致问题。因为字符串通常是动态分配的，直接写入指针值而不是实际字符串内容。故我们需要修改结构体：\n1 2 3 4 5 6 7 8 9 10 struct St { char name[50];//使用固定大小数组代替string int age; double height; St(const char* n,int a,double h):age(a),height(h){ strncpy(name,n,sizeof(name)-1); name[sizeof(name)-1] = \u0026#39;\\0\u0026#39;; } St()=default; }; 写入数据 1 2 3 4 5 6 7 8 9 10 11 string filepath=\u0026#34;/home/sora/DOCS/my1/test010\u0026#34;; function\u0026lt;void()\u0026gt; writedatabin=[\u0026amp;filepath](){ St s1(\u0026#34;张三三\u0026#34;,19,1.77); St s2(\u0026#34;李四\u0026#34;,20,1.75); St s3(\u0026#34;Aminous\u0026#34;,114,514); ofstream out1(filepath,ios::binary); out1.write((char*)\u0026amp;s1,sizeof(St)); out1.write((char*)\u0026amp;s2,sizeof(St)); out1.write((char*)\u0026amp;s3,sizeof(St)); out1.close(); }; 读取数据 1 2 3 4 5 6 7 8 9 10 11 12 string filepath=\u0026#34;/home/sora/DOCS/my1/test010\u0026#34;; function\u0026lt;void()\u0026gt; readdatabin=[\u0026amp;filepath](){ ifstream cin1(filepath,ios::binary); vector\u0026lt;St\u0026gt; v; St T; while(cin1.read((char*)\u0026amp;T,sizeof(St))) v.push_back(T); for(const auto \u0026amp;s:v) cout \u0026lt;\u0026lt; s.name \u0026lt;\u0026lt; \u0026#39;\\t\u0026#39; \u0026lt;\u0026lt; s.age \u0026lt;\u0026lt; \u0026#39;\\t\u0026#39; \u0026lt;\u0026lt; s.height \u0026lt;\u0026lt; endl; cin1.close(); }; readdatabin(); ","date":"2025-04-15T13:28:45+08:00","permalink":"https://nacog.github.io/Blog/p/cpp-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/","title":"CPP 文件操作"},{"content":"经过 为了记录并且分享自己的学习经验，我决定搭建一个个人博客\n一开始，我发现阿里云有99一年的云服务器，想着买一个配合WordPress搭建个人博客，结果搞了半天发现这玩意得备案，香港服务器又是1000元一年，一搜索如何备案又麻烦的要死，又害怕一些小的可以提供香港服务器的云跑路，就想看看还有没有别的选项，网上搜索了半天资料，准备用Azure，结果学生认证不了，又一搜发现Azure在国内好像没有学生认证免费用的活动了……\n最终，在我仔细思考 (问AI) 后决定采用免费的github pages + hugo，然后就有了一堆问题 (主要是我太菜了)\n一开始我装了hugo的普通版本，用起来也没问题，结果在生成/public，把它放到仓库之后，它的css文件不能正常加载，问ai说是我要用hugo的extend版本\n换好版本，再来一遍，还是不行，上网搜索，发现大佬，解决问题\n1 git config --global core.autocrlf false 用这个指令，把回车符配置一下就行了 我还是没懂为什么\n然后我满怀激动地打开我的网页，博客格式正常了！结果点进博客，它直接给我跳转到了localhost:1313，问ai，说是我hugo.toml的baseURL没配置，我一看还真是:\n1 baseURL＝\u0026#34;https://example.com/\u0026#34; 配置好了再次上传仓库，等待部署，结果，打开一看，还是不行。\n然后我一气之下把整个东西删了重搞，结果就成功了？？？\n我认为这个问题主要是出在PaperMod这个主题上，因为在我换了主题后，部署一次就成功了😅\n而PaperMod非常麻烦，首先，要先把themes\\PaperMod\\layouts\\partials\\templates下的三个文件的\n1 {{- $images := partial \u0026#34;partials/templates/_funcs/get-page-images\u0026#34; . -}} 改成\n1 {{- $images := partial \u0026#34;/templates/_funcs/get-page-images\u0026#34; . -}} 就是把 partials/ 删掉(前面名字$images之类的不一定一样，但后面都差不多)\n其次，要在hugo.toml中加上\n1 2 3 [params.social] github = \u0026#34;https://github.com/xxx\u0026#34; email = \u0026#34;mailto:xxxx@xxxx\u0026#34; 很抽象\n最终我选择了hugo-theme-stack主题,就是这个网站的主题，相当的好用😋\n","date":"2025-04-15T13:28:45+08:00","permalink":"https://nacog.github.io/Blog/p/myfirstblog/","title":"MyFirstBlog"}]